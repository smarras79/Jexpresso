<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Jexpresso.jl</title><meta name="title" content="Home · Jexpresso.jl"/><meta property="og:title" content="Home · Jexpresso.jl"/><meta property="twitter:title" content="Home · Jexpresso.jl"/><meta name="description" content="Documentation for Jexpresso.jl."/><meta property="og:description" content="Documentation for Jexpresso.jl."/><meta property="twitter:description" content="Documentation for Jexpresso.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Jexpresso.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Do-I-need-to-know-Julia-to-use-Jexpresso?"><span>Do I need to know Julia to use Jexpresso?</span></a></li><li><a class="tocitem" href="#Equations:"><span>Equations:</span></a></li><li class="toplevel"><a class="tocitem" href="#Some-notes-on-using-JEXPRESSO"><span>Some notes on using JEXPRESSO</span></a></li><li><a class="tocitem" href="#Setup-with-CPUs-on-one-core-from-the-Julia-REPL:"><span>Setup with CPUs on one core from the Julia REPL:</span></a></li><li><a class="tocitem" href="#Setup-an-MPI-run:"><span>Setup an MPI run:</span></a></li><li><a class="tocitem" href="#Performance"><span>Performance</span></a></li><li><a class="tocitem" href="#Tutorials"><span>Tutorials</span></a></li><li><a class="tocitem" href="#Manual"><span>Manual</span></a></li></ul></li><li><a class="tocitem" href="features/performance/">Performance</a></li><li><a class="tocitem" href="features/best-practices/">Best practices</a></li><li><a class="tocitem" href="tutorials/user_inputs/">User inputs</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="tutorials/running-jexpresso/">-</a></li><li><a class="tocitem" href="tutorials/newcase/">Tutorial: create a case from scratch:</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/smarras79/Jexpresso" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/smarras79/Jexpresso/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Jexpresso.jl"><a class="docs-heading-anchor" href="#Jexpresso.jl">Jexpresso.jl</a><a id="Jexpresso.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Jexpresso.jl" title="Permalink"></a></h1><p>Documentation of <code>Jexpresso.jl</code>.</p><div class="admonition is-info" id="Note-7193e6cfecf269d6"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-7193e6cfecf269d6" title="Permalink"></a></header><div class="admonition-body"><p>This documentation is and will always be WIP!</p></div></div><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>Jexpresso is a CPU/GPU research software for the numerical solution of a system of arbitrary conservation laws in 1D, 2D, 3D using continuous spectral elements (SEM). Nevertheless, the code is built so that any other numerical method can be added. For example, the Jexpresso already contains a 1D finite difference implementation as well.</p><p>Jexpresso is written in the <a href="https://julialang.org/">Julia programming language</a> and was thought to be modular and allow any user to add any equations in any dimensions without knowing anything about numerical methods. </p><h2 id="Do-I-need-to-know-Julia-to-use-Jexpresso?"><a class="docs-heading-anchor" href="#Do-I-need-to-know-Julia-to-use-Jexpresso?">Do I need to know Julia to use Jexpresso?</a><a id="Do-I-need-to-know-Julia-to-use-Jexpresso?-1"></a><a class="docs-heading-anchor-permalink" href="#Do-I-need-to-know-Julia-to-use-Jexpresso?" title="Permalink"></a></h2><p>Yes and no. It depends how much you are interested in adding your own equation set in the code rather than using it as a black box. </p><p>The following are useful resources about Julia:</p><ul><li>Julia webpage <a href="https://docs.julialang.org/">docs.julialang.org</a></li><li>Official list of learning resources <a href="https://julialang.org/learning/">julialang.org/learning</a></li></ul><ul><li><a href="Jexpresso/#Jexpresso">Jexpresso</a></li></ul><h2 id="Equations:"><a class="docs-heading-anchor" href="#Equations:">Equations:</a><a id="Equations:-1"></a><a class="docs-heading-anchor-permalink" href="#Equations:" title="Permalink"></a></h2><p>Jexpresso uses arbitrarily high-order (3rd and above) <strong>continuous spectral elements</strong> to solve</p><p class="math-container">\[\frac{\partial \bf q}{\partial t} + \sum_{i=1}^{nd}\nabla\cdot{{\bf F}_i({\bf q})} = \mu\nabla^2{\bf q} + {\bf S}({\bf q}) + ~{\rm b.c.}\]</p><p>where the vectors <span>${\bf q}$</span>, <span>${\bf F}$</span>, and <span>${\bf S}$</span> are problem-dependent as shown below, and are taken to be zero vectors of the appropriate size when not explicitly stated otherwise.</p><p>The Julia package <a href="https://docs.sciml.ai/DiffEqDocs/stable/">DifferentialEquations.jl</a> is used for time discretization and stepping.</p><p>In order, we provide tests and results for the following equations:</p><ol><li>1D wave equation:</li></ol><p class="math-container">\[{\bf q}=\begin{bmatrix}
u \\
v
\end{bmatrix}\quad {\bf F}=\begin{bmatrix}
v\\
u
\end{bmatrix}\]</p><p>2: 1D shallow water:</p><p class="math-container">\[{\bf q}=\begin{bmatrix}
h \\
u
\end{bmatrix}\quad {\bf F}=\begin{bmatrix}
Uh + Hu\\
gh + Uu
\end{bmatrix},\]</p><p>where <span>$H$</span> and <span>$U$</span> are a reference height and velocity, respectively.</p><ol><li>2D Helmholtz:</li></ol><p class="math-container">\[{\bf S}=\begin{bmatrix}
\alpha^2 u + f(x,z)
\end{bmatrix}\quad \mu\nabla^2{\bf q}=\mu\begin{bmatrix}
u_{xx} + u_{zz}
\end{bmatrix},\]</p><p>for a constant value of <span>$\alpha$</span> and <span>$\mu$</span>, which are case-dependent.</p><ol><li>2D scalar advection-diffusion:</li></ol><p class="math-container">\[{\bf q}=\begin{bmatrix}
q\\
\end{bmatrix}\quad {\bf F}=\begin{bmatrix}
qu\\
\end{bmatrix}\quad {\bf F}=\begin{bmatrix}
qv\\
\end{bmatrix}\quad \mu\nabla^2{\bf q}=\mu\begin{bmatrix}
q_{xx} + q_{zz}
\end{bmatrix},\]</p><ol><li>2D Euler equations of compressible flows with gravity and N passive chemicals <span>$c_i, \forall i=1,...,N$</span> </li></ol><p class="math-container">\[{\bf q}=\begin{bmatrix}
\rho \\
\rho u\\
\rho v\\
\rho \theta\\
\rho c1\\
...\\
\rho cN
\end{bmatrix}\quad {\bf F}1=\begin{bmatrix}
\rho u\\
\rho u^2 + p\\
\rho u v\\
\rho u \theta\\
\rho u c1\\
...\\
\rho u cN
\end{bmatrix}\quad {\bf F}2=\begin{bmatrix}
\rho v\\
\rho v u\\
\rho v^2 + p\\
\rho v \theta\\
\rho v c1\\
...\\
\rho v cN
\end{bmatrix}\quad {\bf S}=\begin{bmatrix}
0\\
0\\
-\rho g\\
0\\
0\\
...\\
0
\end{bmatrix}\quad \mu\nabla^2{\bf q}=\mu\begin{bmatrix}
0\\
u_{xx} + u_{zz}\\
v_{xx} + v_{zz}\\
\theta_{xx} + \theta_{zz}\\
c1_{xx} + c1_{zz}\\
...\\
cN_{xx} + cN_{zz}
\end{bmatrix}.\]</p><p>The equation of state for a perfect gas is used to close the system.</p><ol><li>3D Euler equations of compressible flows with gravity</li></ol><p class="math-container">\[{\bf q}=\begin{bmatrix}
\rho \\
\rho u\\
\rho v\\
\rho w\\
\rho \theta\\
\end{bmatrix}\quad {\bf F}1=\begin{bmatrix}
\rho u\\
\rho u^2 + p\\
\rho u v\\
\rho u w\\
\rho u \theta\\
\end{bmatrix}\quad {\bf F}2=\begin{bmatrix}
\rho v\\
\rho v u\\
\rho v^2 + p\\
\rho v w\\
\rho v \theta\\
\end{bmatrix}\quad {\bf F}3=\begin{bmatrix}
\rho w\\
\rho w u\\
\rho w v\\
\rho w^2 + p\\
\rho w \theta\\
\end{bmatrix}\quad {\bf S}=\begin{bmatrix}
0\\
0\\
0\\
-\rho g\\
0\\
\end{bmatrix}\quad \mu\nabla^2{\bf q}=\mu\begin{bmatrix}
0\\
u_{xx} + u_{yy} + u_{zz}\\
v_{xx} + v_{yy} + v_{zz}\\
w_{xx} + w_{yy} + w_{zz}\\
\theta_{xx} + \theta_{yy} + \theta_{zz}\\
\end{bmatrix}.\]</p><p>If you are interested in contributing, please get in touch: <a href="mailto:smarras@njit.edu">Simone Marras</a>, <a href="mailto:yt277@njit.edu">Yassine Tissaoui</a></p><h1 id="Some-notes-on-using-JEXPRESSO"><a class="docs-heading-anchor" href="#Some-notes-on-using-JEXPRESSO">Some notes on using JEXPRESSO</a><a id="Some-notes-on-using-JEXPRESSO-1"></a><a class="docs-heading-anchor-permalink" href="#Some-notes-on-using-JEXPRESSO" title="Permalink"></a></h1><p>To install and run the code assume Julia 1.11.0</p><h2 id="Setup-with-CPUs-on-one-core-from-the-Julia-REPL:"><a class="docs-heading-anchor" href="#Setup-with-CPUs-on-one-core-from-the-Julia-REPL:">Setup with CPUs on one core from the Julia REPL:</a><a id="Setup-with-CPUs-on-one-core-from-the-Julia-REPL:-1"></a><a class="docs-heading-anchor-permalink" href="#Setup-with-CPUs-on-one-core-from-the-Julia-REPL:" title="Permalink"></a></h2><pre><code class="language-bash hljs">cd $JEXPRESSO_HOME
julia --project=. -e &quot;using Pkg; Pkg.instantiate(); Pkg.API.precompile()&quot;</code></pre><p>followed by the following:</p><p>Push problem name to ARGS You need to do this only when you run a new problem</p><pre><code class="language-bash hljs">push!(empty!(ARGS), EQUATIONS::String, EQUATIONS_CASE_NAME::String);
include(&quot;./src/Jexpresso.jl&quot;)</code></pre><ul><li>PROBLEM<em>NAME is the name of your problem directory as JEXPRESSO/problems/equations/problem</em>name</li><li>PROBLEM<em>CASE</em>NAME is the name of the subdirectory containing the specific setup that you want to run: </li></ul><p>The path would look like  <code>$JEXPRESSO/problems/equations/PROBLEM_NAME/PROBLEM_CASE_NAME</code></p><h2 id="Setup-an-MPI-run:"><a class="docs-heading-anchor" href="#Setup-an-MPI-run:">Setup an MPI run:</a><a id="Setup-an-MPI-run:-1"></a><a class="docs-heading-anchor-permalink" href="#Setup-an-MPI-run:" title="Permalink"></a></h2><ol><li>Basic Execution</li></ol><pre><code class="language-bash hljs">mpiexec -n &lt;NPROCS&gt; julia --project=. -e &#39;push!(empty!(ARGS), &quot;&lt;EQUATIONS&gt;&quot;, &quot;&lt;CASE_NAME&gt;&quot;); include(&quot;./src/Jexpresso.jl&quot;)&#39;</code></pre><ol><li>Implementation-Specific Examples</li></ol><pre><code class="language-bash hljs">mpiexec -n 4 julia --project=. -e &#39;push!(empty!(ARGS), &quot;CompEuler&quot;, &quot;3d&quot;); include(&quot;./src/Jexpresso.jl&quot;)&#39;</code></pre><h3 id="Troubleshooting"><a class="docs-heading-anchor" href="#Troubleshooting">Troubleshooting</a><a id="Troubleshooting-1"></a><a class="docs-heading-anchor-permalink" href="#Troubleshooting" title="Permalink"></a></h3><ul><li><p><strong>Library conflicts:</strong> Clear existing preferences:</p><pre><code class="language-bash hljs">rm -f LocalPreferences.toml</code></pre></li><li><p><strong>Path issues:</strong> Verify paths with:</p><pre><code class="language-bash hljs">which mpiexec
which mpirun</code></pre><p>You may have to use the full aboslute path to mpiexec or mpirun and to julia like this if necessary. For example, if your <code>mpirun</code> lives in <code>/opt/homebrew/Cellar/open-mpi/5.0.6/bin/mpirun</code>, then you may want to run the code with the full path like this:</p><pre><code class="nohighlight hljs">/opt/homebrew/Cellar/open-mpi/5.0.6/bin/mpirun -n 4 /Applications/Julia-1.11.app/Contents/Resources/julia/bin/julia --project=. -e &#39;push!(empty!(ARGS), &quot;CompEuler&quot;, &quot;theta&quot;); include(&quot;./src/Jexpresso.jl&quot;)&#39;</code></pre><p>Important notice: you need to use the Julia version that is correctly linked to the same MPI installation.</p></li></ul><p>If you have multiple Julia installations on your machine, use the full path to the one linked to the mpirun at hand.</p><ul><li><strong>Version mismatches:</strong> Ensure consistent versions:<pre><code class="language-bash hljs">mpicc --version
mpif90 --version</code></pre></li></ul><h2 id="Performance"><a class="docs-heading-anchor" href="#Performance">Performance</a><a id="Performance-1"></a><a class="docs-heading-anchor-permalink" href="#Performance" title="Permalink"></a></h2><p>Jexpresso leverages the properties of the Julia language to make it as fast as a compiled code. Some performance, measured against a legacy and massive Fortran 90/Modern Fortran code, are shown in page ``@contents Pages = [     &quot;features/performance.md&quot;, ]</p><h2 id="Tutorials"><a class="docs-heading-anchor" href="#Tutorials">Tutorials</a><a id="Tutorials-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorials" title="Permalink"></a></h2><p>The following tutorials will introduce you to the functionality of Jexpresso.jl.</p><ul><li><a href="tutorials/user_inputs/#user_inputs.jl"><code>user_inputs.jl</code></a></li><li><a href="tutorials/define_output_variables/#Tutorial:-define-the-output-variables:">Tutorial: define the output variables:</a></li><li class="no-marker"><ul><li><a href="tutorials/define_output_variables/#Step-1:-Go-to-your-problem-directory:">Step 1: Go to your problem directory:</a></li><li><a href="tutorials/define_output_variables/#Step-2:-Open-initialize.jl:">Step 2: Open initialize.jl:</a></li></ul></li></ul><h2 id="Manual"><a class="docs-heading-anchor" href="#Manual">Manual</a><a id="Manual-1"></a><a class="docs-heading-anchor-permalink" href="#Manual" title="Permalink"></a></h2><ul><li><a href="Jexpresso/#Jexpresso">Jexpresso</a></li><li><a href="features/best-practices/#Best-practices-to-prevent-performance-deterioration">Best practices to prevent performance deterioration</a></li><li class="no-marker"><ul><li><a href="features/best-practices/#Vectors-vs-tuples:">Vectors vs tuples:</a></li></ul></li><li><a href="features/performance/#Performance-of-Jexpresso-on-CPU">Performance of Jexpresso on CPU</a></li><li class="no-marker"><ul><li><a href="features/performance/#Speed">Speed</a></li><li><a href="features/performance/#Mass-conservation">Mass conservation</a></li></ul></li><li><a href="#Jexpresso.jl">Jexpresso.jl</a></li><li class="no-marker"><ul><li><a href="#Introduction">Introduction</a></li><li><a href="#Do-I-need-to-know-Julia-to-use-Jexpresso?">Do I need to know Julia to use Jexpresso?</a></li><li><a href="#Equations:">Equations:</a></li></ul></li><li><a href="#Some-notes-on-using-JEXPRESSO">Some notes on using JEXPRESSO</a></li><li class="no-marker"><ul><li><a href="#Setup-with-CPUs-on-one-core-from-the-Julia-REPL:">Setup with CPUs on one core from the Julia REPL:</a></li><li><a href="#Setup-an-MPI-run:">Setup an MPI run:</a></li><li><a href="#Performance">Performance</a></li><li><a href="#Tutorials">Tutorials</a></li><li><a href="#Manual">Manual</a></li></ul></li><li><a href="tutorials/define_output_variables/#Tutorial:-define-the-output-variables:">Tutorial: define the output variables:</a></li><li class="no-marker"><ul><li><a href="tutorials/define_output_variables/#Step-1:-Go-to-your-problem-directory:">Step 1: Go to your problem directory:</a></li><li><a href="tutorials/define_output_variables/#Step-2:-Open-initialize.jl:">Step 2: Open initialize.jl:</a></li></ul></li><li><a href="tutorials/newcase/#Tutorial:-create-a-case-from-scratch:">Tutorial: create a case from scratch:</a></li><li class="no-marker"><ul><li><a href="tutorials/newcase/#Prerequisites">Prerequisites</a></li><li><a href="tutorials/newcase/#Creating-a-New-Problem-called-Hello-in-Jexpresso/problems/equations/CompEuler/">Creating a New Problem called <code>Hello</code> in <code>Jexpresso/problems/equations/CompEuler/</code></a></li><li><a href="tutorials/running-jexpresso/#Setup-with-CPUs">Setup with CPUs</a></li><li><a href="tutorials/running-jexpresso/#Setup-and-Run-with-MPI">Setup and Run with MPI</a></li></ul></li><li><a href="tutorials/user_inputs/#user_inputs.jl"><code>user_inputs.jl</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="features/performance/">Performance »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Wednesday 28 May 2025 17:37">Wednesday 28 May 2025</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
